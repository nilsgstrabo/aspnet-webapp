@page
@model VideoModel
@{
    ViewData["Title"] = "Videos";
}
<h1>@ViewData["Title"]</h1>


@if(Model.Videos?.Length==0)
{
    <div>No videos available</div>
} else {
    <form method="post">
    @foreach (var item in Model.Videos)
    {
        <div>
            <input type="radio" name="SelectedVideoId" id="@item.Id" value="@item.Id" />
            <label for="@item.Id">@item.FileName (@Model.ConvertToMB(item.SizeBytes))</label>
        </div>
    }
    <input type="submit" value="Play" />  
    </form>
}

@if(Model.SelectedVideo != null) 
{
    <div>Selected video: @Model.SelectedVideo.FileName</div>
    <div>
        <video controls src="/api/video/@Model.SelectedVideo.Id" width="800px">Your browser does not support the video tag.</video>
    </div>
}

